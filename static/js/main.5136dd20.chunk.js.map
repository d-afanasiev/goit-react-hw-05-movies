{"version":3,"sources":["components/Navigation/Navigation.module.css","styles/MovieDetailsPage.module.css","components/Container/Container.module.css","components/AppBar/AppBar.module.css","components/Container/Container.jsx","components/Navigation/Navigation.jsx","components/AppBar/AppBar.jsx","services/tmdb-api.js","views/HomePage.jsx","views/MoviesPage.jsx","views/MovieDetailsPage.jsx","App.js","index.js"],"names":["module","exports","Container","children","className","css","container","Navigation","exact","to","link","activeClassName","activeLink","AppBar","header","API_KEY","BASE_URL","fetchWithErrorHandling","a","url","config","fetch","response","ok","json","Promise","reject","Error","HomePage","useState","movies","setMovies","useEffect","then","data","results","catch","error","Notify","failure","map","movie","id","title","MoviesPage","searchFilms","setSearchFilms","nameFilm","setNameFilm","onSubmit","e","preventDefault","searchBooks","type","autoComplete","autoFocus","placeholder","value","onChange","target","film","MovieDetailsPage","setMovie","genres","setGenres","movieId","useParams","bookId","console","log","wrapperMovie","imageMovie","src","poster_path","alt","getYear","parseISO","release_date","Math","round","popularity","overview","genre","name","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5136dd20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__12o2K\",\"activeLink\":\"Navigation_activeLink__2rUFB Navigation_link__12o2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperMovie\":\"MovieDetailsPage_wrapperMovie__2jltC\",\"imageMovie\":\"MovieDetailsPage_imageMovie__26Mo_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1Yk8v\"};","import css from \"./Container.module.css\";\n\nexport default function Container({ children }) {\n  return <div className={css.container}>{children}</div>;\n}\n","import { NavLink } from \"react-router-dom\";\nimport css from \"./Navigation.module.css\";\n\nexport default function Navigation() {\n  return (\n    <nav>\n      <NavLink\n        exact\n        to=\"/\"\n        className={css.link}\n        activeClassName={css.activeLink}\n      >\n        Home\n      </NavLink>\n\n      <NavLink\n        to=\"/movies\"\n        className={css.link}\n        activeClassName={css.activeLink}\n      >\n        Movies\n      </NavLink>\n    </nav>\n  );\n}\n","import Navigation from \"../Navigation/Navigation\";\nimport css from \"./AppBar.module.css\";\n\nexport default function AppBar() {\n  return (\n    <header className={css.header}>\n      <Navigation />\n    </header>\n  );\n}\n","const API_KEY = \"4e286c2ceeb7113ef3a7d57d0bdb7157\";\nconst BASE_URL = `https://api.themoviedb.org/3`;\n\nasync function fetchWithErrorHandling(url = \"\", config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(\"Not found\"));\n}\n\nexport function fetchMovies() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function searchBooks(nameFilm) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${nameFilm}`\n  );\n}\n\nexport function fetchMovieById(bookId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${bookId}?api_key=${API_KEY}&language=en-US`\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { fetchMovies } from \"../services/tmdb-api\";\nimport { Notify } from \"notiflix\";\n\nexport default function HomePage() {\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    fetchMovies()\n      .then((data) => {\n        setMovies(data.results);\n      })\n      .catch((error) => Notify.failure(error));\n  }, []);\n\n  return (\n    <>\n      <h1>Trending today</h1>\n      <ul>\n        {movies.map((movie) => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { searchBooks } from \"../services/tmdb-api\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MoviesPage() {\n  const [searchFilms, setSearchFilms] = useState([]);\n  const [nameFilm, setNameFilm] = useState(\"\");\n\n  const handleChange = (e) => {\n    setNameFilm(e.target.value);\n  };\n\n  const handleSubmitFilm = (e) => {\n    e.preventDefault();\n    searchBooks(nameFilm).then((data) => {\n      setSearchFilms(data.results);\n    });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmitFilm}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search films\"\n          value={nameFilm}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Поиск</button>\n      </form>\n      <ul>\n        {searchFilms.map((film) => (\n          <li key={film.id}>\n            <Link to={`/movies/${film.id}`}>{film.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import { useParams } from \"react-router\";\nimport { useEffect, useState } from \"react\";\nimport { fetchMovieById } from \"../services/tmdb-api\";\nimport { getYear, parseISO } from \"date-fns\";\nimport css from \"../styles/MovieDetailsPage.module.css\";\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(\"\");\n  const [genres, setGenres] = useState([]);\n  let { movieId } = useParams();\n\n  useEffect(() => {\n    fetchMovieById(movieId)\n      .then((data) => {\n        setMovie(data);\n        setGenres(data.genres);\n      })\n      .catch((error) => console.log(error));\n  }, [movieId]);\n\n  // console.log(movie.release_date);\n\n  return (\n    <>\n      {movie && (\n        <div className={css.wrapperMovie}>\n          <div className={css.imageMovie}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n              alt={movie.title}\n            />\n          </div>\n          <div>\n            <h1>\n              {movie.title} {`(${getYear(parseISO(movie.release_date))})`}\n            </h1>\n            <p>User Popularity: {Math.round(movie.popularity)}</p>\n            <h2>Overview</h2>\n            <p>{movie.overview}</p>\n            <h3>Genres</h3>\n            <p>{genres.map((genre) => `${genre.name} `)}</p>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","import { Switch, Route } from \"react-router\";\nimport Container from \"./components/Container\";\nimport AppBar from \"./components/AppBar\";\nimport HomePage from \"./views/HomePage\";\nimport MoviesPage from \"./views/MoviesPage\";\nimport MovieDetailsPage from \"./views/MovieDetailsPage\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <Container>\n      <AppBar />\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n        <Route path=\"/movies\" exact>\n          <MoviesPage />\n        </Route>\n        <Route path=\"/movies/:movieId\">\n          <MovieDetailsPage />\n        </Route>\n      </Switch>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}